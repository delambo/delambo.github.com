<!DOCTYPE html>
<html lang="en">
<head>
<script type="text/javascript" src="http://typeface.nytimes.com/hqf5ydk.js"></script>
<script type="text/javascript">try{Typekit.load();}catch(e){}</script>
<title>The New York Times Shuffle</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="robots" content="noarchive">

<link rel="stylesheet" type="text/css" href="http://graphics8.nytimes.com/css/0.1/screen/build/sectionfront/opinion/2.0/styles.css" />
<link rel="stylesheet" type="text/css" media="print" href="http://graphics8.nytimes.com/css/0.1/print/styles.css">
<!--[if IE]>
        <style type="text/css">
            @import url(http://graphics8.nytimes.com/css/0.1/screen/common/ie.css);
        </style>
    <![endif]-->
<!--[if IE 6]>
        <style type="text/css">
            @import url(http://graphics8.nytimes.com/css/0.1/screen/common/ie6.css);
        </style>
    <![endif]-->
<!--[if lt IE 9]>
        <script src="http://graphics8.nytimes.com/js/html5shiv.js"></script>
    <![endif]-->
<script type="text/javascript" src="http://graphics8.nytimes.com/js/common.js"></script>
<script type="text/javascript" src="http://graphics8.nytimes.com/js/common/screen/DropDown.js"></script>
<script type="text/javascript" src="http://graphics8.nytimes.com/js/util/tooltip.js"></script>

</head>
<body>
<a name="top"></a>
<div  id="shell">

<ul id="memberTools">

<li><a href="http://www.nytimes.com/adx/bin/adx_click.html?type=goto&opzn&page=www.nytimes.com/pages/opinion/index.html&pos=Bar1&sn2=f0ecce6d/4bb234b0&sn1=b349f4ec/ffc8fd17&camp=nyt2012-circ-bar1-non-hp-digi-target-3847X&ad=052711-bar1-hd-digi-target-3847X&goto=https%3A%2F%2Fwww%2Enytimesathome%2Ecom%2Fhd%2F101%3FMediaCode%3DW47AF%26CMP%3D3847X" target="_blank">Subscribe to Home Delivery</a>
</li>

 
                        <li><a id="memberToolsLogin" href="https://myaccount.nytimes.com/auth/login">Log In</a></li>
            <li><a href="https://myaccount.nytimes.com/gst/regi.html" onClick="dcsMultiTrack('WT.z_ract', 'Regnow', 'WT.z_rprod', 'Masthead','WT.z_dcsm','1');">Register Now</a></li>
                            

<li><a href="http://www.nytimes.com/membercenter/sitehelp.html">Help</a></li>
</ul>
<div class="mainTabsContainer tabsContainer">
<ul id="mainTabs" class="mainTabs tabs">
<li class="first mainTabHome"><a href="http://www.nytimes.com">Home Page</a></li>
<li class="mainTabTodaysPaper"><a href="http://www.nytimes.com/pages/todayspaper/index.html">Today's Paper</a></li>
<li class="mainTabVideo"><a href="http://www.nytimes.com/video">Video</a></li>
<li class="mainTabMostPopular"><a href="http://www.nytimes.com/mostpopular">Most Popular</a></li>
</ul>
</div>
<div id="editionToggle" class="editionToggle">
Edition: <span id="editionToggleUS"><a href="http://www.nytimes.com" onmousedown="dcsMultiTrack('DCS.dcssip','www.nytimes.com','DCS.dcsuri','/toggleIHTtoNYT.html','WT.ti','toggleIHTtoNYT','WT.z_dcsm','1');" onclick="NYTD.EditionPref.setUS();">U.S.</a></span> / <span id="editionToggleGlobal"><a href="http://global.nytimes.com" onmousedown="dcsMultiTrack('DCS.dcssip','www.nytimes.com','DCS.dcsuri','/toggleNYTtoIHT.html','WT.ti','toggleNYTtoIHT','WT.z_dcsm','1');" onclick="NYTD.EditionPref.setGlobal();">Global</a></span>
</div><!--close editionToggle -->
<script type="text/javascript">
NYTD.loadEditionToggle();

window.setTimeout(function() {
  var login = document.getElementById('memberToolsLogin');
  if (login) {
    login.href += "?URI=" + window.location.href;
  }
}, 0)
</script>
<div  id="page" class="tabContent active">
<div id="masthead" class="clearfix">      


<div id="searchWidget">
<div class="inlineSearchControl">
<form enctype="application/x-www-form-urlencoded" action="" method="get" name="" id="searchForm">
    <span class="searchRadio"><input type="radio" checked=checked value="day" name="field">Day</span><span class="searchRadio"><input type="radio" value="week" name="field">Week</span>

    <button id="searchButton" class="appButton"><span><img height="20" width="20" src="shuffle.png">shuffle</span></button>
</form>
</div>
</div>
<div id="branding">
  <a href="http://www.nytimes.com"><img width="110" height="16" id="NYTLogo" alt="New York Times" src="http://graphics8.nytimes.com/images/logos/nyt/nyt-logo-164x24-dark.gif"></a>
</div>
<h2>
<a href="javascript:void(0)">TimesShuffle</a>
</h2>
</div>
<div class="navigation tabsContainer">
<ul class="tabs">
<li id="navWorld" class="first ">
<a href="http://www.nytimes.com/pages/world/index.html">World</a>
</li>	<li id="navUs" >
<a href="http://www.nytimes.com/pages/national/index.html">U.S.</a>
</li>	<li id="navNyregion" >
<a href="http://www.nytimes.com/pages/nyregion/index.html">N.Y. / Region</a>
</li>	<li id="navBusiness" >
<a href="http://www.nytimes.com/pages/business/index.html">Business</a>
</li>	<li id="navTechnology" >
<a href="http://www.nytimes.com/pages/technology/index.html">Technology</a>
</li>	<li id="navScience" >
<a href="http://www.nytimes.com/pages/science/index.html">Science</a>
</li>	<li id="navHealth" >
<a href="http://www.nytimes.com/pages/health/index.html">Health</a>
</li>	<li id="navSports" >
<a href="http://www.nytimes.com/pages/sports/index.html">Sports</a>
</li>	<li id="navOpinion" class="selected">
<a href="http://www.nytimes.com/pages/opinion/index.html">Opinion</a>
<ul class="subNavigation"><li id="subNav_opinioneditorials"><a href="http://topics.nytimes.com/top/opinion/editorialsandoped/editorials/">Editorials</a></li><li id="subNav_opinioncolumnists"><a href="http://topics.nytimes.com/top/opinion/editorialsandoped/oped/columnists/">Columnists</a></li><li id="subNav_opinioncontributors"><a href="http://topics.nytimes.com/top/opinion/editorialsandoped/oped/contributors/">Contributors</a></li><li id="subNav_opinionletters"><a href="http://topics.nytimes.com/top/opinion/editorialsandoped/letters/">Letters</a></li><li id="subNav_publiceditor"><a href="http://topics.nytimes.com/top/opinion/thepubliceditor/index.html">The Public Editor</a></li><li id="subNav_global"><a href="http://www.nytimes.com/pages/opinion/global/index.html">Global Opinion</a></li></ul></li>	<li id="navArts" >
<a href="http://www.nytimes.com/pages/arts/index.html">Arts</a>
</li>	<li id="navStyle" >
<a href="http://www.nytimes.com/pages/style/index.html">Style</a>
</li>	<li id="navTravel" >
<a href="http://www.nytimes.com/pages/travel/index.html">Travel</a>
</li>	<li id="navJobs" >
<a href="http://www.nytimes.com/pages/jobs/index.html">Jobs</a>
</li>	<li id="navRealestate" >
<a href="http://www.nytimes.com/pages/realestate/index.html">Real Estate</a>
</li>	<li id="navAutomobiles" >
<a href="http://www.nytimes.com/pages/automobiles/index.html">Autos</a>
</li></ul>
</div>

<div id="main">
<div id="spanABCRegion">
<div class="spanAB wrap module">
<div class="abColumn">
<div class="columnGroup">
<div class="ledeStory">
  

</div>
</div>
</div>        




<div class="cColumn">
  <div class="adSpace"><img src="./nest.png" width="332"></div>
  <div class="columnHeader"></div>
    <div class="columnGroup"></div>
</div>
</div>            


<footer class="pageFooter">
<div class="inset">
<nav class="pageFooterNav">
<ul class="pageFooterNavList wrap">
<li class="firstItem"><a href="http://www.nytco.com/">&copy; 2012 The New York Times Company</a></li>
<li><a href="http://spiderbites.nytimes.com/">Site Map</a></li>
<li><a href="http://www.nytimes.com/privacy">Privacy</a></li>
<li><a href="http://www.nytimes.com/ref/membercenter/help/privacy.html#pp">Your Ad Choices</a></li>
<li><a href="http://www.nytimes.whsites.net/mediakit/">Advertise</a></li>
<li><a href="http://www.nytimes.com/content/help/rights/sale/terms-of-sale.html ">Terms of Sale</a></li>
<li><a href="http://www.nytimes.com/ref/membercenter/help/agree.html">Terms of Service</a></li>
<li><a href="http://www.nytco.com/careers">Work With Us</a></li>
<li><a href="http://www.nytimes.com/rss">RSS</a></li>
<li><a href="http://www.nytimes.com/membercenter/sitehelp.html">Help</a></li>
<li><a href="http://www.nytimes.com/ref/membercenter/help/infoservdirectory.html">Contact Us</a></li>
<li class="lastItem"><a href="https://myaccount.nytimes.com/membercenter/feedback.html">Site Feedback</a></li>
</ul>
</nav>
</div><!--close inset -->
</footer><!--close pageFooter -->
</div><!--close main -->
</div><!--close page -->
</div><!--close shell -->



<style type="text/css">
  .appButton img {
    vertical-align: middle;
    margin-bottom: 4px;
    margin-left: -3px;
  }
  .appButton {
    background: #44A5D7 !important;
    font-size: 13px;
    color: white;
  }
  .appButton span {
    background: #44A5D7 !important;
  }
  .searchRadio {
    display: inline-block;
    font-weight: bold;
    font-size: 1.1em;
    color: #eeeeee;
    margin-right: 7px;
  }
  .searchRadio input {
    margin-bottom: 4px;
  }

  #searchButton {
    margin-bottom: 4px;
  }

  #masthead {
    background: black;
  }
  #masthead h2 a {
    color: #eeeeee !important;
  }

  .ledeStory p {
    font-family: 'georgia',serif;
    font-size: 15px;
    line-height: 20px;
  }

  .ledeStory .byline {
    color: #666;
    font-family: georgia,serif;
    font-size: 13px;
    font-weight: normal;
  }

  .columnHeader {
    text-align: center;
    background: #EFEFEF;
    margin: 0 11px 11px;
    padding: 11px;
    color: #777;
    font-size: 13px;
  }

  .daysOld {
    color: #777;
  }

  .alert {
    color: #B94A48;
    background-color: #F2DEDE;
    border-color: #EED3D7;
  }

  .no-results {
    text-align: center;
    padding: 11px;
    color: #999;
    font-size: 13px;
  }

  #masthead h2 > a {
    cursor: default;
  }

  .adSpace {
    padding: 0px 11px 11px;
  }

</style>
<script type="text/javascript" src="https://raw.github.com/timrwood/moment/1.7.2/min/moment.min.js"></script>

<script type="text/javascript">

(function($) {
  var storyCache = [],
    articleCount = 0,
    nArticles = 25,
    limit = getParameter('fetch_limit') || nArticles;

  var getDate = function(ts) {
    return moment(ts*1000).format('MMMM DD YYYY');
  };

  var getDaysFrom = function(ts) {
    var today = new Date();
    var date_to_reply = new Date(ts * 1000);
    var timeinmilisec = today.getTime() - date_to_reply.getTime();
    return Math.floor(timeinmilisec / (1000 * 60 * 60 * 24));
  };

  var getCrop = function(model) {
    var crop;
    $.each(model.relatedAssets || [], function(i, el) {
      if (el.type == 'image') {
        if (el.crops) {
          if (el.crops.articleLarge) crop = el.crops.articleLarge.url;
          else if (el.crops.jumbo) crop = el.crops.jumbo.url;
          else if (el.crops.articleInline) crop = el.crops.articleInline.url;
          return false;
        }
      }
    });
    return crop;
  };

  function getParameter(name) {
    name = name.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");
    var regexS = "[\\?&]" + name + "=([^&#]*)";
    var regex = new RegExp(regexS);
    var results = regex.exec(window.location.search);
    if (results == null) return "";
    else return decodeURIComponent(results[1].replace(/\+/g, " "));
  }

  var getLede = function(model) {
    if (!model) return '<div class="no-results">No articles</div>';

    var crop = getCrop(model);
    
    var sectionKick = model.section || '';
    if (sectionKick && model.kicker) sectionKick += ' | ';
    sectionKick += model.kicker || '';

    var daysOld = 0; //getDaysFrom(model.printPubDate);

    var lede = 
      '<h6 class="kicker">' + sectionKick + '</h6>' +
      '<h2>' +
      '<a href="' + model.url + '">' + model.title +'</a>' +
      '</h2>' +
      '<div class="ledePhoto">' +
      '<a href="' + model.url + '">' +
      (crop ? '<img src="' + crop + '" width="600" alt="" border="0">' : '') +
      '</a>' +
      '</div>' +
      '<h6 class="byline">'+ (model && model.authors && model.authors[0] || '') + '</h6>' +
      '<div>' + getDate(model.printPubDate) + ' <span class="daysOld">'  + (daysOld > 1 ? daysOld + ' days old' : '') + '</span></div>' +
      '<p class="summary">' + model.body + '</p>';
    return lede;
  };

  var getStory = function(model) {
    if (!model) return;
    var crop = getCrop(model);

    var story =
      '<div class="story">' +
      '<h6 class="kicker">' + (model.kicker || '') + '</h6>' +
      '<h3>' +
      '<a href="' + model.url + '">' + model.title + '</a>' +
      '</h3>' +
      '<div class="thumbnail">' +
      '<a href="' + model.url + '">' +
      (crop ? '<img src="' + crop + '" width="75" height="75" alt="" border="0">' : '') +
      '</a>' +
      '</div>' +
      '<p>' + (model.summary || '') + '</p>' +
      '</div>'
      '<div class="singleRuleDivider"></div>';
    return story;
  };

  var renderLede = function(model) {
    $('.ledeStory').html(getLede(model));
  };

  var renderStory = function(model) {
    $('.cColumn .columnGroup').prepend(getStory(model));
  };

  var updateArticleCount = function(hasUpdate) {
    if (hasUpdate) {
      if (articleCount < limit) articleCount++;
      else $('.columnHeader').addClass('alert');
    }

    $('.columnHeader').text((articleCount || '0') + ' out of ' + limit + ' article limit');
  };

  var hasKeys = function(obj) {
    for (var key in obj) return true;
    return false;
  };

  var updatePage = function(model) {
    renderLede(model);
    if (model) {
      renderStory(storyCache[0]);
      storyCache.unshift(model);
    }
    updateArticleCount(!!model);
  };

  $('#searchButton').click(function() {
    $('.abColumn').fadeTo('fast', '0.45');

    var data = $('#searchForm').serialize();

    if (limit) data.limit = limit;

    $.ajax({
      type: 'get',
      url: 'http://sonar01.qprvt.nytimes.com:8000/',
      data: data,
      dataType: 'json',
      xhrFields: {
        withCredentials: true
      },
      success: function(model) {
        setTimeout(function() {
          updatePage(hasKeys(model) ? model : null);
          $('.abColumn').fadeTo('fast', '1');
        }, 200);
      },
      error: function(e, f, g) {
        console.log('something bad happened', e, f, g);
        updatePage();
      }
    });
    
    return false;
  });

  $('#searchButton').click();

})(NYTD.jQuery);

</script>


</body>
</html>

